function expose(target){var code=target.toString();return code=code.substring(0,code.lastIndexOf("}")),code+="this.get = function(name) {return eval(name);};",code+="this.set = function(name, value) {eval(name+'=value');};",eval("["+code+"}]")[0]}function getImage(e,n){var t=n.hasOwnProperty(e)?e:Object.keys(n).find(function(t){return n[t].name==e});return n[t]}function unique(e){return e.filter(function(n,t){return e.indexOf(n)===t})}function flatten(e){return Array.isArray(e)?e.reduce(function(e,n){return e.concat(flatten(n))},[]):e}